# ุฑุงูููุง ุฏูพูู Trevel ุฑู ุณุฑูุฑ ุง ูพูู

## ๐ ูุฑุงุญู ุฏูพูู

### ูุฑุญูู 1: ุขูุงุฏูโุณุงุฒ ูุงูโูุง

1. **Frontend Build** (ุงูุฌุงู ุดุฏู โ):
   ```bash
   npm run build:prod
   ```
   ูุงูโูุง build ุดุฏู ุฏุฑ ูพูุดู `dist/` ูุฑุงุฑ ุฏุงุฑูุฏ.

2. **Backend ุขูุงุฏู**:
   - ูุงูโูุง TypeScript ุฏุฑ ูพูุดู `backend/src/` ูุณุชูุฏ
   - ูุงุฒ ุจู build ูุณุชุ Node.js ูุณุชููุงู TypeScript ุฑู ุงุฌุฑุง ูโฺฉูู

### ูุฑุญูู 2: ุขูพููุฏ ูุงูโูุง ุจู ุณุฑูุฑ ุง ูพูู

#### 2.1: ุขูพููุฏ Frontend
- ุชูุงู ูุญุชูุงุช ูพูุดู `dist/` ุฑู ุจู ูพูุดู `public_html/` ุง `www/` ุณุฑูุฑ ุขูพููุฏ ฺฉูุฏ
- ุงู ุดุงูู ูุงูโูุง ุฒุฑ ุงุณุช:
  - `index.html`
  - ูพูุดู `assets/` (ุดุงูู CSS ู JS)

#### 2.2: ุขูพููุฏ Backend
- ูพูุดู `backend/` ุฑู ุจู ูพูุดู `api/` ุง `backend/` ุณุฑูุฑ ุขูพููุฏ ฺฉูุฏ
- ูุงูโูุง ููู:
  - `src/` (ุชูุงู ฺฉุฏูุง TypeScript)
  - `package.json`
  - `prisma/` (ุดุงูู schema ู migrations)
  - `env.production` (ูุชุบุฑูุง ูุญุท)

### ูุฑุญูู 3: ุชูุธูุงุช ุณุฑูุฑ ุง ูพูู

#### 3.1: ุงุฌุงุฏ ุฏุงููู
- ุฏุฑ ูพูู ุง ูพููุ ุฏุงููู ุฎูุฏ ุฑุง ุงุถุงูู ฺฉูุฏ
- Document Root ุฑุง ุจู ูพูุดู `public_html/` ุชูุธู ฺฉูุฏ

#### 3.2: ุชูุธู Node.js
- ุฏุฑ ูพูู ุง ูพููุ Node.js ุฑุง ูุนุงู ฺฉูุฏ
- ูุฑฺู Node.js ุฑุง ุฑู 18 ุง ุจุงูุงุชุฑ ุชูุธู ฺฉูุฏ
- Application Root ุฑุง ุจู ูพูุดู `backend/` ุชูุธู ฺฉูุฏ
- Start Command: `npm start`
- Port: `3000` (ุง ูพูุฑุช ุฏูุฎูุงู)

#### 3.3: ุชูุธู ูุชุบุฑูุง ูุญุท
- ุฏุฑ ูพูู ุง ูพููุ Environment Variables ุฑุง ุงุถุงูู ฺฉูุฏ:
  ```
  NODE_ENV=production
  PORT=3000
  DATABASE_URL=file:./prod.db
  JWT_SECRET=your-super-secure-jwt-secret-key
  JWT_EXPIRES_IN=7d
  SEPEHR_API_BASE_URL=https://partners.sepehrsupport.ir
  SEPEHR_API_KEY=your-sepehr-api-key
  SEPEHR_API_SECRET=your-sepehr-api-secret
  CHARTER118_BASE_URL=https://api.charter118.com
  CHARTER118_API_KEY=your-charter118-api-key
  CORS_ORIGIN=https://your-domain.com
  ```

### ูุฑุญูู 4: ุชูุธูุงุช ุฏุชุงุจุณ

#### 4.1: SQLite (ูพุดููุงุฏ)
- SQLite ูุงุฒ ุจู ุชูุธูุงุช ุฎุงุต ูุฏุงุฑุฏ
- ูุงู ุฏุชุงุจุณ ุฏุฑ ูพูุดู `backend/` ุงุฌุงุฏ ูโุดูุฏ

#### 4.2: MySQL (ุงุฎุชุงุฑ)
- ุงฺฏุฑ ูโุฎูุงูุฏ ุงุฒ MySQL ุงุณุชูุงุฏู ฺฉูุฏ:
  - ุฏุฑ ูพูู ุง ูพููุ ุฏุชุงุจุณ MySQL ุงุฌุงุฏ ฺฉูุฏ
  - DATABASE_URL ุฑุง ุชุบุฑ ุฏูุฏ:
    ```
    DATABASE_URL=mysql://username:password@localhost:3306/database_name
    ```

### ูุฑุญูู 5: ุชูุธูุงุช Nginx (ุงุฎุชุงุฑ)

ุงฺฏุฑ ุง ูพูู ุดูุง Nginx ูพุดุชุจุงู ูโฺฉูุฏุ ูุงู `nginx.conf` ุฑุง ุฏุฑ ูพูู ุชูุธู ฺฉูุฏ.

### ูุฑุญูู 6: ุฑุงูโุงูุฏุงุฒ

1. **ูุตุจ Dependencies**:
   - ุฏุฑ ูพูู ุง ูพููุ ุฏุณุชูุฑ `npm install` ุฑุง ุงุฌุฑุง ฺฉูุฏ

2. **ุฑุงูโุงูุฏุงุฒ ุฏุชุงุจุณ**:
   - ุฏุณุชูุฑ `npx prisma migrate deploy` ุฑุง ุงุฌุฑุง ฺฉูุฏ
   - ุฏุณุชูุฑ `npx prisma generate` ุฑุง ุงุฌุฑุง ฺฉูุฏ

3. **ุฑุงูโุงูุฏุงุฒ ุณุฑูุณ**:
   - Node.js application ุฑุง start ฺฉูุฏ

### ูุฑุญูู 7: ุชุณุช

- Frontend: `https://your-domain.com`
- Backend API: `https://your-domain.com:3000/api`
- Health Check: `https://your-domain.com:3000/health`

## ๐ง ูุฏุฑุช

### ุฏุณุชูุฑุงุช ููุฏ ุฏุฑ ูพูู ุง ูพูู:
- **Restart Application**: ุจุฑุง ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ
- **View Logs**: ุจุฑุง ูุดุงูุฏู ูุงฺฏโูุง
- **Environment Variables**: ุจุฑุง ุชุบุฑ ูุชุบุฑูุง ูุญุท
- **File Manager**: ุจุฑุง ูุฏุฑุช ูุงูโูุง

### Backup:
- ูุงูโูุง ููู ุจุฑุง backup:
  - `backend/prod.db` (ุฏุชุงุจุณ)
  - `backend/logs/` (ูุงฺฏโูุง)
  - `public_html/` (frontend)

## โ๏ธ ูฺฉุงุช ููู

1. **ุงููุช**: JWT_SECRET ุฑุง ุญุชูุงู ุชุบุฑ ุฏูุฏ
2. **ุฏุงููู**: CORS_ORIGIN ุฑุง ุจุง ุฏุงููู ูุงูุน ุชูุธู ฺฉูุฏ
3. **ูพูุฑุช**: ูุทูุฆู ุดูุฏ ูพูุฑุช 3000 ุฏุฑ ุฏุณุชุฑุณ ุงุณุช
4. **SSL**: ฺฏูุงู SSL ุฑุง ูุนุงู ฺฉูุฏ
5. **Backup**: ุจู ุทูุฑ ููุธู backup ุจฺฏุฑุฏ

## ๐ ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ:
1. **Application ุดุฑูุน ููโุดูุฏ**: ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ
2. **API ุฏุฑ ุฏุณุชุฑุณ ูุณุช**: ูพูุฑุช ู CORS ุฑุง ุจุฑุฑุณ ฺฉูุฏ
3. **ุฏุชุงุจุณ ูุดฺฉู ุฏุงุฑุฏ**: DATABASE_URL ุฑุง ุจุฑุฑุณ ฺฉูุฏ
4. **Frontend ููุฏ ููโุดูุฏ**: ูุงูโูุง dist ุฑุง ุจุฑุฑุณ ฺฉูุฏ

### ุจุฑุฑุณ ูุถุนุช:
- ุฏุฑ ูพูู ุง ูพููุ ูุถุนุช Application ุฑุง ุจุฑุฑุณ ฺฉูุฏ
- ูุงฺฏโูุง ุฑุง ูุทุงูุนู ฺฉูุฏ
- Health check ุฑุง ุชุณุช ฺฉูุฏ

